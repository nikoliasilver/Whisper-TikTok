
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
        <link rel="next" href="1-ffmpeg/">
      
      
      <link rel="icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.12">
    
    
      
        <title>Whisper-TikTok</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.7e359304.min.css">
      
        
        <link rel="stylesheet" href="assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="purple">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#introducing-whisper-tiktok" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="." title="Whisper-TikTok" class="md-header__button md-logo" aria-label="Whisper-TikTok" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Whisper-TikTok
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Introducing Whisper-TikTok ü§ñüé•
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="purple"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="lime"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
    
  
  
    <li class="md-tabs__item md-tabs__item--active">
      <a href="." class="md-tabs__link">
        
  
    
  
  Introducing Whisper-TikTok ü§ñüé•

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="1-ffmpeg/" class="md-tabs__link">
        
  
    
  
  Installing FFmpeg

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="2-cuda/" class="md-tabs__link">
        
  
    
  
  Installing CUDA Driver for GPU Acceleration

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="." title="Whisper-TikTok" class="md-nav__button md-logo" aria-label="Whisper-TikTok" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Whisper-TikTok
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Introducing Whisper-TikTok ü§ñüé•
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="." class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Introducing Whisper-TikTok ü§ñüé•
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#table-of-contents" class="md-nav__link">
    <span class="md-ellipsis">
      Table of Contents
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    <span class="md-ellipsis">
      Introduction
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#streamlit-web-app" class="md-nav__link">
    <span class="md-ellipsis">
      Streamlit Web App
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#demo-video" class="md-nav__link">
    <span class="md-ellipsis">
      Demo Video
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-it-works" class="md-nav__link">
    <span class="md-ellipsis">
      How it Works
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#web-app-online" class="md-nav__link">
    <span class="md-ellipsis">
      Web App (Online)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#local-installation" class="md-nav__link">
    <span class="md-ellipsis">
      Local Installation
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="1-ffmpeg/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installing FFmpeg
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="2-cuda/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installing CUDA Driver for GPU Acceleration
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="introducing-whisper-tiktok">Introducing Whisper-TikTok ü§ñüé•</h1>
<h2 id="table-of-contents">Table of Contents</h2>
<ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#demo-video">Video (demo)</a></li>
<li><a href="#how-it-works">How it works?</a></li>
<li><a href="#web-app-online">Web App (Online)</a></li>
<li><a href="#streamlit-web-app">Streamlit Web App</a></li>
<li><a href="#local-installation">Local Installation</a></li>
<li><a href="#dependencies">Dependencies</a></li>
<li><a href="#web-ui-local">Web-UI (Local)</a></li>
<li><a href="#command-line">Command-Line</a></li>
<li><a href="#usage-examples">Usage Examples</a></li>
<li><a href="#additional-resources">Additional Resources</a></li>
<li><a href="#code-of-conduct">Code of Conduct</a></li>
<li><a href="#contributing">Contributing</a></li>
<li><a href="#upcoming-features">Upcoming Features</a></li>
<li><a href="#acknowledgments">Acknowledgments</a></li>
<li><a href="#license">License</a></li>
</ul>
<h2 id="introduction">Introduction</h2>
<p>Discover Whisper-TikTok, an innovative AI-powered tool that leverages the prowess of <strong>Edge TTS</strong>, <strong>OpenAI-Whisper</strong>, and <strong>FFMPEG</strong> to craft captivating TikTok videos. Harnessing the capabilities of OpenAI's Whisper model, Whisper-TikTok effortlessly generates an accurate <strong>transcription</strong> from provided audio files, laying the foundation for the creation of mesmerizing TikTok videos through the utilization of <strong>FFMPEG</strong>. Additionally, the program seamlessly integrates the <strong>Microsoft Edge Cloud Text-to-Speech (TTS) API</strong> to lend a vibrant <strong>voiceover</strong> to the video. Opting for Microsoft Edge Cloud TTS API's voiceover is a deliberate choice, as it delivers a remarkably <strong>natural and authentic</strong> auditory experience, setting it apart from the often monotonous and artificial voiceovers prevalent in numerous TikTok videos.</p>
<h2 id="streamlit-web-app">Streamlit Web App</h2>
<p><img alt="Webui" src="WebuiDemo.png" /></p>
<h2 id="demo-video">Demo Video</h2>
<p><a href="https://github.com/MatteoFasulo/Whisper-TikTok/assets/74818541/68e25504-c305-4144-bd39-c9acc218c3a4">https://github.com/MatteoFasulo/Whisper-TikTok/assets/74818541/68e25504-c305-4144-bd39-c9acc218c3a4</a></p>
<h2 id="how-it-works">How it Works</h2>
<p>Employing Whisper-TikTok is a breeze: simply modify the <a href="video.json">video.json</a>. The JSON file contains the following fields:</p>
<ul>
<li><code>series</code>: The name of the series.</li>
<li><code>part</code>: The part number of the video.</li>
<li><code>text</code>: The text to be spoken in the video.</li>
<li><code>outro</code>: The outro text to be spoken in the video.</li>
<li><code>tags</code>: The tags to be used for the video.</li>
</ul>
<p>Summarizing the program's functionality:</p>
<blockquote>
<p>Furnished with a structured JSON dataset containing details such as the <strong>series name</strong>, <strong>video part number</strong>, <strong>video text</strong> and <strong>outro text</strong>, the program orchestrates the synthesis of a video incorporating the provided text and outro. Subsequently, the generated video is stored within the designated <code>output</code> folder.</p>
</blockquote>
<details>
<summary>Details</summary>

The program conducts the **sequence of actions** outlined below:

1. Retrieve **environment variables** from the optional .env file.
2. Validate the presence of **PyTorch** with **CUDA** installation. If the requisite dependencies are **absent**, the **program will use the CPU instead of the GPU**.
3. Download a random video from platforms like YouTube, e.g., a Minecraft parkour gameplay clip.
4. Load the OpenAI Whisper model into memory.
5. Extract the video text from the provided JSON file and initiate a **Text-to-Speech** request to the Microsoft Edge Cloud TTS API, preserving the response as an .mp3 audio file.
6. Utilize the OpenAI Whisper model to generate a detailed **transcription** of the .mp3 file, available in .srt format.
7. Select a **random background** video from the dedicated folder.
8. Integrate the srt file into the chosen video using FFMPEG, creating a final .mp4 output.
9. Upload the video to TikTok using the TikTok session cookie. For this step it is required to have a TikTok account and to be logged in on your browser. Then the required `cookies.txt` file can be generated using [this guide available here](https://github.com/kairi003/Get-cookies.txt-LOCALLY). The `cookies.txt` file must be placed in the root folder of the project.
10. Voila! In a matter of minutes, you've crafted a captivating TikTok video while sipping your favorite coffee ‚òïÔ∏è.

</details>

<h2 id="web-app-online">Web App (Online)</h2>
<p>There is a Web App hosted thanks to Streamlit which is public available, just click on the link that will take you directly to the Web App.</p>
<blockquote>
<p><a href="https://convert.streamlit.app">https://convert.streamlit.app</a></p>
</blockquote>
<h2 id="local-installation">Local Installation</h2>
<p>Whisper-TikTok has undergone rigorous testing on Windows 10, Windows 11 and Ubuntu 23.04 systems equipped with <strong>Python versions 3.8, 3.9 and 3.11</strong>.</p>
<p>If you want to run Whisper-TikTok locally, you can clone the repository using the following command:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/MatteoFasulo/Whisper-TikTok.git
</code></pre></div>
<blockquote>
<p>However, there is also a Docker image available for Whisper-TikTok which can be used to run the program in a containerized environment.</p>
</blockquote>
<h1 id="dependencies">Dependencies</h1>
<p>To streamline the installation of necessary dependencies, execute the following command within your terminal:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">U</span> <span class="o">-</span><span class="n">r</span> <span class="n">requirements</span><span class="o">.</span><span class="n">txt</span>
</code></pre></div>
<p>It also requires the command-line tool <a href="https://ffmpeg.org/"><strong>FFMPEG</strong></a> to be installed on your system, which is available from most package managers:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="c1"># on Ubuntu or Debian</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>sudo<span class="w"> </span>apt<span class="w"> </span>update<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>ffmpeg
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="c1"># on Arch Linux</span>
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>sudo<span class="w"> </span>pacman<span class="w"> </span>-S<span class="w"> </span>ffmpeg
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a>
<a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a><span class="c1"># on MacOS using Homebrew (&lt;https://brew.sh/&gt;)</span>
<a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a>
<a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a>brew<span class="w"> </span>install<span class="w"> </span>ffmpeg
<a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a>
<a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a><span class="c1"># on Windows using Chocolatey (&lt;https://chocolatey.org/&gt;)</span>
<a id="__codelineno-2-14" name="__codelineno-2-14" href="#__codelineno-2-14"></a>
<a id="__codelineno-2-15" name="__codelineno-2-15" href="#__codelineno-2-15"></a>choco<span class="w"> </span>install<span class="w"> </span>ffmpeg
<a id="__codelineno-2-16" name="__codelineno-2-16" href="#__codelineno-2-16"></a>
<a id="__codelineno-2-17" name="__codelineno-2-17" href="#__codelineno-2-17"></a><span class="c1"># on Windows using Scoop (&lt;https://scoop.sh/&gt;)</span>
<a id="__codelineno-2-18" name="__codelineno-2-18" href="#__codelineno-2-18"></a>
<a id="__codelineno-2-19" name="__codelineno-2-19" href="#__codelineno-2-19"></a>scoop<span class="w"> </span>install<span class="w"> </span>ffmpeg
</code></pre></div>
<blockquote>
<p>Please note that for optimal performance, it's advisable to have a GPU when using the OpenAI Whisper model for speech recognition. However, the program will work without a GPU, but it will run more slowly. This performance difference is because GPUs efficiently handle fp16 computation, while CPUs use fp32 or fp64 (depending on your machine), which are slower.</p>
</blockquote>
<h2 id="web-ui-local">Web-UI (Local)</h2>
<p>To run the Web-UI locally, execute the following command within your terminal:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>streamlit<span class="w"> </span>run<span class="w"> </span>app.py<span class="w"> </span>--server.port<span class="o">=</span><span class="m">8501</span><span class="w"> </span>--server.address<span class="o">=</span><span class="m">0</span>.0.0.0
</code></pre></div>
<h2 id="command-line">Command-Line</h2>
<p>To run the program from the command-line, execute the following command within your terminal:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>python<span class="w"> </span>main.py<span class="w"> </span>
</code></pre></div>
<h3 id="cli-options">CLI Options</h3>
<p>Whisper-TikTok supports the following command-line options:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>python main.py [OPTIONS]
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>Options:
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>  --model TEXT              Model to use [tiny|base|small|medium|large] (Default: small)
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>  --non_english             Use general model, not the English one specifically. (Flag)
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a>  --url TEXT                YouTube URL to download as background video. (Default: &lt;https://www.youtube.com/watch?v=intRX7BRA90&gt;)
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a>  --tts TEXT                Voice to use for TTS (Default: en-US-ChristopherNeural)
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a>  --list-voices             Use `edge-tts --list-voices` to list all voices.
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a>--random_voice              Random voice for TTS (Flag)
<a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a>  --gender TEXT             Gender of the random TTS voice [Male|Female].
<a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a>  --language TEXT           Language of the random TTS voice(e.g., en-US)
<a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a>  --sub_format TEXT         Subtitle format to use [u|i|b] (Default: b) | b (Bold), u (Underline), i (Italic)
<a id="__codelineno-5-13" name="__codelineno-5-13" href="#__codelineno-5-13"></a>  --sub_position INT        Subtitle position to use [1-9] (Default: 5)
<a id="__codelineno-5-14" name="__codelineno-5-14" href="#__codelineno-5-14"></a>  --font TEXT               Font to use for subtitles (Default: Lexend Bold)
<a id="__codelineno-5-15" name="__codelineno-5-15" href="#__codelineno-5-15"></a>  --font_color TEXT         Font color to use for subtitles in HEX format (Default: #FFF000).
<a id="__codelineno-5-16" name="__codelineno-5-16" href="#__codelineno-5-16"></a>  --font_size INT           Font size to use for subtitles (Default: 21)
<a id="__codelineno-5-17" name="__codelineno-5-17" href="#__codelineno-5-17"></a>  --max_characters INT      Maximum number of characters per line (Default: 38)
<a id="__codelineno-5-18" name="__codelineno-5-18" href="#__codelineno-5-18"></a>  --max_words INT           Maximum number of words per segment (Default: 2)
<a id="__codelineno-5-19" name="__codelineno-5-19" href="#__codelineno-5-19"></a>  --upload_tiktok           Upload the video to TikTok (Flag)
<a id="__codelineno-5-20" name="__codelineno-5-20" href="#__codelineno-5-20"></a>  -v, --verbose             Verbose (Flag)
</code></pre></div>
<blockquote>
<p>If you use the --random_voice option, please specify both --gender and --language arguments. Also you will need to specify the --non_english argument if you want to use a non-English voice otherwise the program will use the English model. Whisper model will auto-detect the language of the audio file and use the corresponding model.</p>
</blockquote>
<h2 id="usage-examples">Usage Examples</h2>
<ul>
<li>Generate a TikTok video using a specific TTS model and voice:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>python<span class="w"> </span>main.py<span class="w"> </span>--model<span class="w"> </span>medium<span class="w"> </span>--tts<span class="w"> </span>en-US-EricNeural
</code></pre></div>
<ul>
<li>Generate a TikTok video without using the English model:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>python<span class="w"> </span>main.py<span class="w"> </span>--non_english<span class="w"> </span>--tts<span class="w"> </span>de-DE-KillianNeural
</code></pre></div>
<ul>
<li>Use a custom YouTube video as the background video:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>python<span class="w"> </span>main.py<span class="w"> </span>--url<span class="w"> </span>https://www.youtube.com/watch?v<span class="o">=</span>dQw4w9WgXcQ<span class="w"> </span>--tts<span class="w"> </span>en-US-JennyNeural
</code></pre></div>
<ul>
<li>Modify the font color of the subtitles:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>python main.py --sub_format b --font_color #FFF000 --tts en-US-JennyNeural
</code></pre></div>
<ul>
<li>Generate a TikTok video with a random TTS voice:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>python<span class="w"> </span>main.py<span class="w"> </span>--random_voice<span class="w"> </span>--gender<span class="w"> </span>Male<span class="w"> </span>--language<span class="w"> </span>en-US
</code></pre></div>
<ul>
<li>List all available voices:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>edge-tts<span class="w"> </span>--list-voices
</code></pre></div>
<h2 id="additional-resources">Additional Resources</h2>
<h3 id="accelerate-video-creation">Accelerate Video Creation</h3>
<blockquote>
<p>Contributed by <a href="https://github.com/duozokker">@duozokker</a></p>
</blockquote>
<p><strong>reddit2json</strong> is a Python script that transforms Reddit post URLs into a JSON file, streamlining the process of creating video.json files. This tool not only converts Reddit links but also offers functionalities such as translating Reddit post content using DeepL and modifying content through custom OpenAI GPT calls.</p>
<h4 id="reddit2json-directly-convert-reddit-links-to-json">reddit2json: Directly Convert Reddit Links to JSON</h4>
<p>reddit2json is designed to process a list of Reddit post URLs, converting them into a JSON format that can be used directly for video creation. This tool enhances the video creation process by providing a faster and more efficient way to generate video.json files.</p>
<p><a href="https://github.com/duozokker/reddit2json/blob/main/README.md">Here is the detailed README for reddit2json</a> which includes instructions for installation, setting up the .env file, example calls, and more.</p>
<h2 id="code-of-conduct">Code of Conduct</h2>
<p>Please review our <a href="./CODE_OF_CONDUCT.md">Code of Conduct</a> before contributing to Whisper-TikTok.</p>
<h2 id="contributing">Contributing</h2>
<p>We welcome contributions from the community! Please see our <a href="./CONTRIBUTING.md">Contributing Guidelines</a> for more information.</p>
<h2 id="upcoming-features">Upcoming Features üîÆ</h2>
<ul>
<li>Integration with the OpenAI API to generate more advanced responses.</li>
<li>Generate content by extracting it from reddit <a href="https://github.com/MatteoFasulo/Whisper-TikTok/issues/22">https://github.com/MatteoFasulo/Whisper-TikTok/issues/22</a></li>
</ul>
<h2 id="acknowledgments">Acknowledgments</h2>
<ul>
<li>We'd like to give a huge thanks to <a href="https://www.github.com/rany2">@rany2</a> for their <a href="https://github.com/rany2/edge-tts">edge-tts</a> package, which made it possible to use the Microsoft Edge Cloud TTS API with Whisper-TikTok.</li>
<li>We also acknowledge the contributions of the Whisper model by <a href="https://github.com/openai/whisper">@OpenAI</a> for robust speech recognition via large-scale weak supervision</li>
<li>Also <a href="https://github.com/jianfch/stable-ts">@jianfch</a> for the stable-ts package, which made it possible to use the OpenAI Whisper model with Whisper-TikTok in a stable manner with font color and subtitle format options.</li>
</ul>
<h2 id="license">License</h2>
<p>Whisper-TikTok is licensed under the <a href="https://github.com/MatteoFasulo/Whisper-TikTok/blob/main/LICENSE">Apache License, Version 2.0</a>.</p>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      &copy; 2023 <a href="https://github.com/MatteoFasulo" target="_blank" rel="noopener">Matteo Fasulo</a>

    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/MatteoFasulo" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.linkedin.com/in/matteofasulo/" target="_blank" rel="noopener" title="www.linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": ".", "features": ["navigation.tabs", "navigation.sections", "toc.integrate", "navigation.top", "search.suggest", "search.highlight", "content.tabs.link", "content.code.annotate", "content.code.copy"], "search": "assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="assets/javascripts/bundle.c8d2eff1.min.js"></script>
      
    
  </body>
</html>